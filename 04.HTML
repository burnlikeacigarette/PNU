<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ì»´í“¨í„°ê³µí•™ê³¼ ì…ì‹œ ê²°ê³¼ ë¶„ì„</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Pretendard:wght@400;600;700&display=swap');
        body {
            font-family: 'Pretendard', sans-serif;
            background-color: #f8fafc;
        }
        .chart-container {
            position: relative;
            margin: auto;
            height: 60vh;
            width: 80vw;
        }
    </style>
</head>
<body class="p-4 md:p-8">

    <div class="max-w-6xl mx-auto">
        <header class="mb-10 text-center">
            <h1 class="text-3xl md:text-4xl font-bold text-slate-800 mb-2">ğŸ“ ì£¼ìš” ëŒ€í•™ ì»´í“¨í„°ê³µí•™ê³¼ ì…ì‹œ ê²°ê³¼</h1>
            <p class="text-slate-500 text-lg">ì¼ë°˜ì „í˜• ê¸°ì¤€ ìµœê³  ë“±ê¸‰ ë° ìµœì € ë“±ê¸‰ ë¶„í¬</p>
        </header>

        <!-- í†µê³„ ì¹´ë“œ ì„¹ì…˜ -->
        <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-10">
            <div class="bg-white p-6 rounded-2xl shadow-sm border border-slate-100 transition hover:shadow-md">
                <p class="text-sm font-semibold text-blue-600 mb-1">ê°€ì¥ ë†’ì€ ì»·</p>
                <h3 class="text-2xl font-bold text-slate-800">ì´í™”ì—¬ëŒ€ (1.46)</h3>
            </div>
            <div class="bg-white p-6 rounded-2xl shadow-sm border border-slate-100 transition hover:shadow-md">
                <p class="text-sm font-semibold text-indigo-600 mb-1">í‰ê· ì ì¸ ìœ„ì¹˜</p>
                <h3 class="text-2xl font-bold text-slate-800">ì„¸ì¢…ëŒ€ (2.2)</h3>
            </div>
            <div class="bg-white p-6 rounded-2xl shadow-sm border border-slate-100 transition hover:shadow-md">
                <p class="text-sm font-semibold text-emerald-600 mb-1">ìµœëŒ€ ê²©ì°¨ ëŒ€í•™</p>
                <h3 class="text-2xl font-bold text-slate-800">ë™ì•„ëŒ€ (0.33)</h3>
            </div>
        </div>

        <!-- ê·¸ë˜í”„ ì„¹ì…˜ -->
        <div class="bg-white p-6 rounded-2xl shadow-lg border border-slate-100">
            <div class="chart-container">
                <canvas id="gradeChart"></canvas>
            </div>
        </div>

        <!-- ë°ì´í„° í…Œì´ë¸” ì„¹ì…˜ -->
        <div class="mt-10 overflow-hidden bg-white rounded-2xl shadow-sm border border-slate-100">
            <table class="w-full text-left border-collapse">
                <thead>
                    <tr class="bg-slate-50">
                        <th class="p-4 font-bold text-slate-700 border-b">ëŒ€í•™êµëª…</th>
                        <th class="p-4 font-bold text-blue-600 border-b text-center">ìµœê³  ë“±ê¸‰</th>
                        <th class="p-4 font-bold text-red-600 border-b text-center">ìµœì € ë“±ê¸‰</th>
                        <th class="p-4 font-bold text-slate-700 border-b text-center">ë“±ê¸‰ í¸ì°¨</th>
                    </tr>
                </thead>
                <tbody id="dataTable">
                    <!-- JSë¡œ ë°ì´í„° ì‚½ì… -->
                </tbody>
            </table>
        </div>

        <footer class="mt-12 text-center text-slate-400 text-sm">
            <p>Â© 2024 ëŒ€ì… ì •ë³´ ì‹œê°í™” í”„ë¡œì íŠ¸. ì œê³µëœ ë°ì´í„°ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ì œì‘ë˜ì—ˆìŠµë‹ˆë‹¤.</p>
        </footer>
    </div>

    <script>
        const rawData = [
            { name: "ê²½í¬ëŒ€", max: 1.72, min: 1.72 },
            { name: "ê²½ì„±ëŒ€", max: 3.5, min: 3.8 },
            { name: "ë™ì•„ëŒ€", max: 3.62, min: 3.95 },
            { name: "ì„¸ì¢…ëŒ€", max: 2.2, min: 2.2 },
            { name: "ì¶©ë¶ëŒ€", max: 3.05, min: 3.15 },
            { name: "ì´í™”ì—¬ëŒ€", max: 1.46, min: 1.52 }
        ];

        // ë°ì´í„° ì •ë ¬ (ë“±ê¸‰ì´ ë†’ì€ ìˆœì„œëŒ€ë¡œ)
        const sortedData = [...rawData].sort((a, b) => a.max - b.max);

        // í…Œì´ë¸” ìƒì„±
        const tableBody = document.getElementById('dataTable');
        sortedData.forEach(item => {
            const diff = (item.min - item.max).toFixed(2);
            const row = `
                <tr class="hover:bg-slate-50 transition">
                    <td class="p-4 border-b font-semibold text-slate-800">${item.name}</td>
                    <td class="p-4 border-b text-center text-blue-500">${item.max}</td>
                    <td class="p-4 border-b text-center text-red-400">${item.min}</td>
                    <td class="p-4 border-b text-center text-slate-500">${diff}</td>
                </tr>
            `;
            tableBody.innerHTML += row;
        });

        // ì°¨íŠ¸ ìƒì„±
        const ctx = document.getElementById('gradeChart').getContext('2d');
        new Chart(ctx, {
            type: 'bar',
            data: {
                labels: sortedData.map(item => item.name),
                datasets: [
                    {
                        label: 'ìµœê³  ë“±ê¸‰',
                        data: sortedData.map(item => item.max),
                        backgroundColor: 'rgba(59, 130, 246, 0.7)',
                        borderColor: 'rgb(59, 130, 246)',
                        borderWidth: 1,
                        borderRadius: 6
                    },
                    {
                        label: 'ìµœì € ë“±ê¸‰',
                        data: sortedData.map(item => item.min),
                        backgroundColor: 'rgba(248, 113, 113, 0.7)',
                        borderColor: 'rgb(248, 113, 113)',
                        borderWidth: 1,
                        borderRadius: 6
                    }
                ]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: {
                        position: 'top',
                        labels: { font: { family: 'Pretendard', size: 14 } }
                    },
                    tooltip: {
                        callbacks: {
                            label: function(context) {
                                return context.dataset.label + ': ' + context.raw + 'ë“±ê¸‰';
                            }
                        }
                    }
                },
                scales: {
                    y: {
                        reverse: true, // 1ë“±ê¸‰ì´ ìœ„ì— ì˜¤ë„ë¡ ì—­ìˆœ ë°°ì¹˜
                        min: 1,
                        max: 5,
                        title: {
                            display: true,
                            text: 'ë“±ê¸‰ (ë‚®ì„ìˆ˜ë¡ ìƒìœ„)',
                            font: { weight: 'bold' }
                        }
                    },
                    x: {
                        grid: { display: false }
                    }
                }
            }
        });
    </script>
</body>
</html>
